/**
 * Objectÿve framework bêta
 *
 * @author      Thomas Josseau
 * @version     0.5.13
 * @date        2014.07.01
 * @link        https://github.com/tjosseau/objectyve
 *
 * @description
 *      JavaScript framework as a light but extended prototype factory.
 */
void function(t){var h,n,d,x;switch(t){case "client":h=window;break;case "server":h=GLOBAL;break;default:h={}}n="function"===typeof Object.setPrototypeOf?6:"function"===typeof function(){}.__proto__?5:4;x=h.Objectyve;var k=[0,5,13,new Date(2014,6,1)],q={silent:!1,strict:0,debug:0},u={requirejs:null},y={constructor:"initialize"},v=4<n?Object.create:function(){var a=function(){};return function(b){a.prototype=b;return new a}}(),p=4<n?Object.defineProperty:function(){try{return Object.defineProperty.apply(arguments[0], arguments)}catch(a){return d.options.debug>=d.debug.MEDIUM&&r(a),arguments[0]}},A=4<n?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}},r=function(a){q.silent||"undefined"===typeof console||console.info("/!\\ "+a)},e={object:function(a){return null!=a&&"object"===typeof a&&!e.array(a)},bool:function(a){return"boolean"===typeof a},array:function(a){return"[object Array]"===Object.prototype.toString.call(a)},number:function(a){return"number"===typeof a&&!isNaN(parseFloat(a))&& isFinite(a)},string:function(a){return"string"===typeof a},funct:function(a){return"function"===typeof a},container:function(a){return e.object(a)||e.array(a)},empty:function(a){for(var b in a)if(a.propertyIsEnumerable(b))return!1;return!0},ofType:function(a){return"object"===typeof a?e.object(a)?"object":e.array(a)?"array":"null":"number"===typeof a?e.number(a)?"number":"nan":typeof a}},m=function(a){var b,c;e.object(a)?b=!(c={}):e.array(a)?b=!(c=[]):(b=!0,c=a);if(!b)for(var f in a)a.propertyIsEnumerable(f)&& (e.container(a[f])?c[f]=m(a[f]):c[f]=a[f]);return c},g=function(a,b){for(var c in b)b.propertyIsEnumerable(c)&&(a[c]=b[c]);return a},s=function(a,b){for(var c in b)b.propertyIsEnumerable(c)&&(c in y?a[y[c]]=b[c]:a[c]=b[c]);return a},w=function(){for(var a=[],b=0,c=arguments.length;b<c;b++)e.array(arguments[b])?a=a.concat(w.apply(null,arguments[b])):a.push(arguments[b]);return a},z=function(a){null!=a.silent&&(this.silent=!!a.silent);null!=a.debug&&(!1===a.debug?this.debug=0:!0===a.debug?this.debug= 1:0===a.debug?this.debug=0:0<a.debug&&3>=a.debug&&(this.debug=a.debug));null!=a.strict&&(!1===a.strict?this.strict=0:!0===a.strict?this.strict=1:0===a.strict?this.strict=0:0<a.strict&&2>=a.strict&&(this.strict=a.strict))};d={ECMAScript:n,debug:{MINIMAL:0,MEDIUM:1,ALL:2},strict:{NONE:0,LOW:1,HIGH:2},options:q,plugins:u,noConflict:function(){h.Objectyve=x;null==h.Objectyve&&delete h.Objectyve;return d},version:function(){return this.version.build},configure:function(a){z.call(q,a);return this},plug:function(a){g(u, a);return this},globalize:function(){for(var a=0,b=arguments.length;a<b;a++)h[arguments[a]]=d[arguments[a]];return this},util:{is:e,create:v,clone:m,copy:g,copySafe:s,list:w},echo:function(){q.silent||"undefined"===typeof console||(4<n?console.log.apply(console,arguments):console.log(arguments[0]));return arguments[0]},warn:r,Skeleton:{modifiers:{"public":{},hidden:{},shared:{},concealed:{},nested:{}},set:function(a,b,c){a.__meta__.skeleton[c][b]=!0},unset:function(a,b){var c=a.__meta__,f;for(f in c.skeleton)c.skeleton[f][b]&& delete c.skeleton[f][b]}},Constructor:{metadata:function(){return this.__meta__},options:function(){return this.__meta__.options},plugins:function(){return this.__meta__.plugins},create:function(){var a=v(this.prototype);return d.Instance.init.call(a,this,arguments)},module:function(a){for(var b=a.replace(/\./g,"/").split("/"),c=b.length,f=h,e,l=0;l<c;l++)e=b[l],null==f[e]?f[e]={}:this.options().debug===d.debug.ALL&&r("Module root '"+a+"' has an already defined branch, it will be altered."),l<c-1? f=f[e]:f[e]=this;return this},extend:function(a){this.prototype=v(a.prototype);a.__meta__&&a.__meta__.skeleton&&(g(this.__meta__.skeleton["public"],a.__meta__.skeleton["public"]),g(this.__meta__.skeleton.hidden,a.__meta__.skeleton.hidden));this.parent=a;this.prototype["super"]=a.prototype.initialize;return this},mixin:function(){for(var a=w.apply(null,arguments),b,c=0,f=a.length;c<f;c++){b=a[c];if(e.funct(b))g(this.prototype,b.prototype);else if(e.object(b))g(this.prototype,b);else throw"Cannot mixin '"+ b+"' with a prototype. Mixins require a function or an object.";b.__meta__&&b.__meta__.skeleton&&(g(this.__meta__.skeleton["public"],b.__meta__.skeleton["public"]),g(this.__meta__.skeleton.hidden,b.__meta__.skeleton.hidden))}return this},augment:function(){this.mixin.apply(this,arguments);return this},"public":function(a){a=s({},a);g(this.prototype,a);for(var b in a)d.Skeleton.unset(this,b),d.Skeleton.set(this,b,"public"),p(this.prototype,b,{writable:!0,enumerable:!0,configurable:!0});return this}, attr:function(a){this["public"](a);return this},hidden:function(a){a=s({},a);g(this.prototype,a);for(var b in a)d.Skeleton.unset(this,b),d.Skeleton.set(this,b,"hidden"),p(this.prototype,b,{writable:!0,enumerable:!0,configurable:!0});return this},shared:function(a){a=s({},a);g(this.prototype,a);for(var b in a)d.Skeleton.unset(this,b),d.Skeleton.set(this,b,"shared"),p(this.prototype,b,{writable:!0,enumerable:!0,configurable:!0});return this},methods:function(a){this.shared(a);return this},concealed:function(a){a= s({},a);g(this.prototype,a);for(var b in a)d.Skeleton.unset(this,b),d.Skeleton.set(this,b,"concealed"),p(this.prototype,b,{writable:!0,enumerable:!1,configurable:!0});return this},"static":function(a){g(this,a);return this},nested:function(a){for(var b in a)a.propertyIsEnumerable(b)&&(this.__meta__.skeleton.nested[b]=m(a[b]));return this},initialize:function(a){this["public"]({initialize:a});return this},constructor:function(a){this.initialize(a);return this},main:function(a){this["static"]({main:a}); return this},plug:function(a,b){this.plugins()[a]=b;return this},configure:function(a){z.call(this.options(),a);return this},define:function(a,b,c){var f=h,g=[],l=function(){};e.array(a)?(g=a,e.funct(b)&&(l=b)):e.object(a)?(f=a,e.array(b)?(g=b,e.funct(c)&&(l=c)):e.funct(b)&&(l=b)):e.funct(a)&&(l=a);if(this.plugins().requirejs){var k=this;f.define(g,function(){l.apply(k,arguments);return k})}else if("server"===t){a=[];b=0;for(c=g.length;b<c;b++)a.push(require(g[b]));l.apply(this,a);f!==h&&(f.exports= this)}else this.options().debug>=d.debug.MINIMAL&&(r("Constructor definition function 'define()' called without effect."),l.call(this));return this},updatePrototype:function(){5>n&&g(this,d.Constructor);return this}},Instance:{perform:{ORDER:["prototype","nested"],add:function(a,b,c){if("ORDER"===a||"add"===a)throw"Constructor perform function name '"+a+"' is reserved.";this[a]=b;b=this.ORDER.length;var f=-1,d=0,e=[];c&&("first"===c?f=0:0===c.indexOf("before:")?f=this.ORDER.indexOf(c.substring(7)): 0===c.indexOf("after:")&&(f=this.ORDER.indexOf(c.substring(6))+1));-1===f&&(f=b);for(c=0;c<b;c++)c===f&&d++,e[c+d]=this.ORDER[c];e[f]=a;this.ORDER=e},prototype:function(a){var b,c;for(c in a.prototype)b=a.prototype[c],e.funct(b)||(a.__meta__.skeleton["public"][c]?this[c]=m(b):a.__meta__.skeleton.hidden[c]&&(this[c]=m(b),p(this,c,{enumerable:!1,configurable:!0})));for(var d in a.__meta__.skeleton.concealed)b=a.prototype[d],e.funct(b)||(this[d]=m(b),p(this,d,{enumerable:!1,configurable:!0}))},nested:function(a){var b, c;for(c in a.__meta__.skeleton.nested){e.object(this[c])||(this[c]={});for(var d in a.__meta__.skeleton.nested[c])b=a.__meta__.skeleton.nested[c][d],e.funct(b)?this[c][d]=A(b,this):this[c][d]=m(b)}}},init:function(a,b){if(!1===this.initialize)throw"Prototype is static and cannot be instanciated.";for(var c=d.Instance.perform,e=0,g=c.ORDER.length;e<g;e++)c[c.ORDER[e]].call(this,a);return!0===a.__meta__.skeleton["public"].initialize?this.initialize.apply(this,b):this}},Prototype:function(a){var b=function(){return d.Instance.init.call(this, b,arguments)};b.__meta__={skeleton:m(d.Skeleton.modifiers),options:m(q),plugins:m(u)};switch(n){case 6:Object.setPrototypeOf(b,d.Constructor);break;case 5:b.__proto__=d.Constructor;break;case 4:g(b,d.Constructor)}if(e.object(a)){a.configure&&(b.configure(a.configure),delete a.configure);a.plug&&(b.plug(a.plug),delete a.plug);for(var c in a)if(b[c])b[c](a[c]);else{if(b.options().strict===d.strict.HIGH)throw"Invalid call '"+c+"' while creating new Prototype.";b.options().strict===d.strict.LOW&&r("Invalid call '"+ c+"' while creating new Prototype.")}}e.funct(b.main)&&b.main.call(b,b);return b}};(function(){d.options.strict=d.strict.LOW;var a=function(a){return 10>a?"0"+a:""+a};d.version.core=k[0];d.version.update=k[1];d.version.correction=k[2];d.version.build=1E5*k[0]+1E3*k[1]+k[2];d.version.date=k[3].getTime();d.version.toString=function(){return"Object\u00ffve version "+d.version.core+"."+d.version.update+"."+d.version.correction+" (build "+d.version()+") dated "+k[3].getFullYear()+"."+a(k[3].getMonth()+ 1)+"."+a(k[3].getDate())};"function"===typeof h.define&&h.define(d);"server"===t&&(module.exports=d);h.Objectyve=d})()}("undefined"!==typeof window&&window.document?"client":"undefined"!==typeof module&&module.exports?"server":"undefined");
